# W1ndys-bot

基于 Python 和 OneBot 11 的 QQ 机器人实现

W1ndys 开发的 QQ 机器人，励志成为功能丰富，使用方便的 QQ 机器人。

## 开发文档

NapCatQQ [NapCatQQ (napneko.github.io)](https://napneko.github.io/zh-CN/#/)

OneBot 11 标准 [botuniverse /onebot-11: OneBot 11 标准 (github.com)](https://github.com/botuniverse/onebot-11#/)

go-cqhttp [API | go-cqhttp 帮助中心](https://docs.go-cqhttp.org/api/)

> 备注：本机器人实现基于 **Python** 做核心开发，使用 **NapCatQQ** 作为消息平台，**OneBot 11** 作为 QQ 机器人 API 实现。

## 已实现功能

### 系统

- [x] 机器人连接成功通知到 root 管理员 QQ
- [x] 机器人断开通知到钉钉
- [x] 机器人断线自动重连
- [x] 菜单

### 群发消息

> 群发消息，私聊 bot

- [x] 群发消息
- [x] 添加群
- [x] 删除群
- [x] 查看群

### 群管系统

- [x] 禁言
- [x] 禁言自己
- [x] 禁言指定用户
- [x] 禁言随机用户
- [x] 禁言指定用户指定秒
- [x] 禁言随机用户随机秒
- [x] 解禁
- [x] 踢人
- [x] 撤回消息
- [x] 撤回指定消息
- [x] 扫描邀请链
- [x] 添加违禁词
- [x] 移除违禁词
- [x] 列出违禁词
- [x] 启用违禁词检测
- [x] 禁用违禁词检测
- [x] 启用入群欢迎信息
- [x] 禁用入群欢迎信息
- [x] 启用邀请链功能
- [x] 禁用邀请链功能
- [x] 查看邀请链

### 邀请链记录

> 记录用户通过邀请链进入群聊的情况，并记录用户 QQ 号和入群时间，当有群内广告时，可以递归遍历邀请链，找到所有相关用户，不仅可以搜父子关系，还可以搜兄弟关系
>
> 例如：A 邀请 B 进入群聊，B 又邀请 C 进入群聊，C 又邀请 D 进入群聊，那么邀请链就是 A -> B -> C -> D
>
> 再例如：A 邀请 B 和 C，B 邀请 D，C 邀请 E，那么邀请链就是 A -> B -> D 和 A -> C -> E，当 E 发送了违规广告时，可以递归遍历邀请链，找到 A、B、C、D、E 所有相关用户

- [x] 开启邀请链记录
- [x] 关闭邀请链记录
- [x] 查看邀请链记录

### 黑名单系统

> 黑名单系统，可以对指定用户进行拉黑，拉黑后，用户将会被踢出群聊，并且拒绝该用户再次进入群聊
>
> 支持艾特添加，支持 QQ 号添加

- [x] 添加黑名单
- [x] 删除黑名单
- [x] 列出黑名单
- [x] 禁用黑名单
- [x] 启用黑名单

### 群名片锁

> 群名片锁，可以对指定用户进行群名片锁定，锁定后，用户将会被锁定在当前群名片，若发现用户修改群名片，将会重新锁定

- [x] 修改群名片
- [x] 添加群名片锁
- [x] 删除群名片锁
- [x] 禁用群名片锁
- [x] 启用群名片锁

### 软封禁系统

> 指不禁言，但是会撤回每条消息

- [x] 添加软封禁
- [x] 删除软封禁
- [x] 查看本群软封禁

### 关键词回复

> 关键词回复，当用户发送了关键词时，机器人将会回复指定内容

- [x] 添加关键词回复
- [x] 删除关键词回复
- [x] 查看关键词回复
- [x] 批量添加关键词回复

### 知识库问答系统

> 知识库问答系统，引入了 jieba 分词和 Levenshtein 距离算法，支持关键词识别，问题识别，可以实现模糊匹配，支持批量添加知识库
>
> 数据量越大，匹配结果越准确

- [x] 开启知识库
- [x] 关闭知识库
- [x] 添加知识库
- [x] 删除知识库
- [x] 查看知识库
- [x] 批量添加知识库

### Crypto

编解码系统

- [x] 支持私聊编解码
- [x] 支持群聊编解码
- [x] base64 编解码
- [x] MD5 编码
- [x] 进制转换
- [x] hash 计算
- [x] 密码生成

### Tools

> 工具系统，提供一些常用的工具功能，主要以接入第三方 API 为主

- [ ] IP 地址查询
- [x] 快递查询

### 曲阜师范大学网站监控

> 曲阜师范大学网站监控，每五分钟检查一次，当教务处和资产处网站有更新时，会通知到开启的群聊

- [x] 教务处监控
- [x] 资产处监控
